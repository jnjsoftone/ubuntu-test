# í•µì‹¬ ê°œë… ë° ì•„í‚¤í…ì²˜ (Concepts & Architecture)

> ë©”íƒ€ë°ì´í„° ê¸°ë°˜ ê°œë°œì˜ ë°°ê²½ ì´ë¡ ê³¼ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ë¥¼ ì´í•´í•©ë‹ˆë‹¤.

## ğŸ“˜ ê°œìš”

ì´ ë””ë ‰í† ë¦¬ëŠ” ë©”íƒ€ë°ì´í„° ê¸°ë°˜ ê°œë°œ ë°©ë²•ë¡ ì˜ í•µì‹¬ ê°œë…, ì•„í‚¤í…ì²˜ ì„¤ê³„, ê¸°ìˆ ì  ë°°ê²½ì„ ë‹¤ë£¹ë‹ˆë‹¤. ì‹¤ì œ ê°œë°œì„ ì‹œì‘í•˜ê¸° ì „ì— ì´ ê°œë…ë“¤ì„ ì´í•´í•˜ë©´ ì „ì²´ ì‹œìŠ¤í…œì„ ë” íš¨ê³¼ì ìœ¼ë¡œ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## ğŸ“š ë¬¸ì„œ ëª©ë¡

### [ë©”íƒ€ë°ì´í„° ê¸°ë°˜ ê°œë°œ ì›Œí¬í”Œë¡œìš°](./META-DRIVEN-DEVELOPMENT-WORKFLOW.md)

ì „ì²´ ê°œë°œ ì›Œí¬í”Œë¡œìš°ì˜ ê°œë…ê³¼ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ë¥¼ ì„¤ëª…í•©ë‹ˆë‹¤.

**ì£¼ìš” ë‚´ìš©:**

#### 1. ê°œìš” ë° í•µì‹¬ ê°œë…
- ë©”íƒ€ë°ì´í„° ê¸°ë°˜ ê°œë°œ(Metadata-Driven Development)ì´ë€?
- ë‹¨ì¼ ì§„ì‹¤ ê³µê¸‰ì›(Single Source of Truth)
- ì£¼ìš” ì´ì  (ì¼ê´€ì„±, ê°œë°œ ì†ë„, ìœ ì§€ë³´ìˆ˜, íƒ€ì… ì•ˆì •ì„±)

#### 2. ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ êµ¬ì¡°
- ë©”íƒ€ë°ì´í„° ì €ì¥ì†Œ í…Œì´ë¸” êµ¬ì¡°
  - `projects` - í”„ë¡œì íŠ¸ ì •ë³´
  - `mappings_table` - í…Œì´ë¸” ë©”íƒ€ë°ì´í„°
  - `mappings_column` - ì»¬ëŸ¼ ë©”íƒ€ë°ì´í„°
  - `mappings_relation` - ê´€ê³„ ë©”íƒ€ë°ì´í„°
  - `metadata_sync_log` - ë™ê¸°í™” ì´ë ¥

#### 3. 5ë‹¨ê³„ ê°œë°œ ì›Œí¬í”Œë¡œìš°
- **Phase 1**: í”„ë¡œì íŠ¸ ì´ˆê¸°í™”
  - ë©”íƒ€ë°ì´í„° DB ìƒì„±
  - í”„ë¡œì íŠ¸ ë“±ë¡
  - í™˜ê²½ ì„¤ì •

- **Phase 2**: ë©”íƒ€ë°ì´í„° ì •ì˜
  - í…Œì´ë¸” ë©”íƒ€ë°ì´í„° ì‘ì„±
  - ì»¬ëŸ¼ ë©”íƒ€ë°ì´í„° ì‘ì„±
  - ê´€ê³„ ì •ì˜
  - ê²€ì¦

- **Phase 3**: ì½”ë“œ ìƒì„±
  - Database DDL
  - GraphQL Schema & Resolvers
  - TypeScript Types
  - React Components

- **Phase 4**: ë™ê¸°í™” ëª¨ë“œ
  - ìë™ ë™ê¸°í™” (Watch Mode)
  - ìˆ˜ë™ ë™ê¸°í™”
  - ì„ íƒì  ì¬ìƒì„±

- **Phase 5**: ê°œë°œ ë° ì»¤ìŠ¤í„°ë§ˆì´ì§•
  - ìƒì„± ì½”ë“œ í™•ì¥
  - ì»¤ìŠ¤í…€ ë¡œì§ ì¶”ê°€
  - ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ êµ¬í˜„

#### 4. ì½”ë“œ ìƒì„± ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜
- Generator íŒ¨í„´
- Template Engine
- í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡°

#### 5. í”„ë¡œì íŠ¸ ê´€ë¦¬
- Multi-project ì§€ì›
- ë²„ì „ ê´€ë¦¬ ì „ëµ
- ë§ˆì´ê·¸ë ˆì´ì…˜ ê´€ë¦¬

#### 6. Best Practices
- ë©”íƒ€ë°ì´í„° ì„¤ê³„ ì›ì¹™
- ëª…ëª… ê·œì¹™
- ê´€ê³„ ì„¤ê³„ íŒ¨í„´
- ì„±ëŠ¥ ìµœì í™”

**ì½ì–´ì•¼ í•  ì‚¬ëŒ:**
- í”„ë¡œì íŠ¸ ë§¤ë‹ˆì € (ì „ì²´ í”„ë¡œì„¸ìŠ¤ ì´í•´)
- ì‹œìŠ¤í…œ ì•„í‚¤í…íŠ¸ (ì•„í‚¤í…ì²˜ ì„¤ê³„ ì°¸ê³ )
- ëª¨ë“  ê°œë°œì (ê°œë… ì´í•´)

---

## ğŸ¯ í•µì‹¬ ê°œë… ìš”ì•½

### 1. ë‹¨ì¼ ì§„ì‹¤ ê³µê¸‰ì› (Single Source of Truth)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Metadata Database      â”‚  â† ëª¨ë“  ì •ë³´ì˜ ìœ ì¼í•œ ì¶œì²˜
â”‚   (PostgreSQL)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Code Generation Engine   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
    â†“                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Backend â”‚     â”‚ Frontend â”‚
â”‚  Code   â”‚     â”‚   Code   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

ë©”íƒ€ë°ì´í„° DBê°€ ë³€ê²½ë˜ë©´ â†’ ì½”ë“œê°€ ìë™ìœ¼ë¡œ ì¬ìƒì„± â†’ ì¼ê´€ì„± ë³´ì¥

### 2. ìƒì„± ì½”ë“œ vs ì»¤ìŠ¤í…€ ì½”ë“œ

```typescript
// âœ… ì˜¬ë°”ë¥¸ ë°©ë²•: ìƒì„± ì½”ë“œ í™•ì¥
import { UserService as GeneratedUserService } from '@/generated/services';

export class UserService extends GeneratedUserService {
  // ì»¤ìŠ¤í…€ ë©”ì„œë“œ ì¶”ê°€
  async sendWelcomeEmail(userId: string) {
    const user = await this.findById(userId); // ìƒì„±ëœ ë©”ì„œë“œ ì‚¬ìš©
    // ì»¤ìŠ¤í…€ ë¡œì§...
  }
}

// âŒ ì˜ëª»ëœ ë°©ë²•: ìƒì„± íŒŒì¼ ì§ì ‘ ìˆ˜ì •
// generated/services/user-service.tsë¥¼ ìˆ˜ì •í•˜ì§€ ë§ˆì„¸ìš”!
```

### 3. ìë™ ë™ê¸°í™”

```typescript
// PostgreSQL LISTEN/NOTIFYë¥¼ í†µí•œ ì‹¤ì‹œê°„ ê°ì§€
watcher.on('metadata_changed', async (event) => {
  console.log(`ğŸ“ Metadata changed: ${event.table_name}`);
  await generateCode(event.table_name);
  console.log('âœ… Code regenerated!');
});
```

### 4. íƒ€ì… ì•ˆì •ì„±

```typescript
// ë©”íƒ€ë°ì´í„°ì—ì„œ TypeScript íƒ€ì… ìë™ ìƒì„±
export interface User {
  id: string;
  email: string;
  name: string;
  role: UserRole;
  createdAt: Date;
  updatedAt: Date;
}

// GraphQL ìŠ¤í‚¤ë§ˆë„ ìë™ ìƒì„±
type User {
  id: ID!
  email: String!
  name: String!
  role: UserRole!
  createdAt: DateTime!
  updatedAt: DateTime!
}
```

---

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### ì „ì²´ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Metadata Storage Layer              â”‚
â”‚                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚  projects  â”‚  â”‚  mappings_ â”‚            â”‚
â”‚  â”‚            â”‚  â”‚   table    â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚  mappings_ â”‚  â”‚  mappings_ â”‚            â”‚
â”‚  â”‚   column   â”‚  â”‚  relation  â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Code Generation Engine               â”‚
â”‚                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ DB DDL Gen  â”‚  â”‚ GraphQL Gen â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚  Type Gen   â”‚  â”‚  React Gen  â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Generated Code Layer              â”‚
â”‚                                              â”‚
â”‚  Backend (src/generated/)                   â”‚
â”‚  â”œâ”€â”€ types.ts                               â”‚
â”‚  â”œâ”€â”€ schema.graphql                         â”‚
â”‚  â”œâ”€â”€ resolvers/                             â”‚
â”‚  â””â”€â”€ services/                              â”‚
â”‚                                              â”‚
â”‚  Frontend (src/generated/)                  â”‚
â”‚  â”œâ”€â”€ types.ts                               â”‚
â”‚  â”œâ”€â”€ forms/                                 â”‚
â”‚  â””â”€â”€ tables/                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’¡ ì„¤ê³„ ì›ì¹™

### 1. ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬ (Separation of Concerns)

- **ë©”íƒ€ë°ì´í„° ë ˆì´ì–´**: ìŠ¤í‚¤ë§ˆ ì •ì˜ë§Œ ë‹´ë‹¹
- **ìƒì„± ë ˆì´ì–´**: ì½”ë“œ ìƒì„±ë§Œ ë‹´ë‹¹
- **ì• í”Œë¦¬ì¼€ì´ì…˜ ë ˆì´ì–´**: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ë§Œ ë‹´ë‹¹

### 2. í™•ì¥ì„± (Extensibility)

- ìƒì„±ëœ ì½”ë“œëŠ” ìƒì†/í™•ì¥ ê°€ëŠ¥
- ìƒˆë¡œìš´ Generator ì¶”ê°€ ê°€ëŠ¥
- ì»¤ìŠ¤í…€ í…œí”Œë¦¿ ì‚¬ìš© ê°€ëŠ¥

### 3. ì¼ê´€ì„± (Consistency)

- DB, API, UIê°€ í•­ìƒ ë™ê¸°í™”
- ëª…ëª… ê·œì¹™ ìë™ ì ìš©
- íƒ€ì… ì¼ê´€ì„± ë³´ì¥

### 4. ìœ ì§€ë³´ìˆ˜ì„± (Maintainability)

- ìŠ¤í‚¤ë§ˆ ë³€ê²½ì´ ì „ì²´ ìŠ¤íƒì— ë°˜ì˜
- ìƒì„± ì½”ë“œëŠ” ë®ì–´ì“°ê¸° ê°€ëŠ¥
- ì»¤ìŠ¤í…€ ì½”ë“œëŠ” ë³´í˜¸ë¨

---

## ğŸ”— ê´€ë ¨ ë¬¸ì„œ

- [ìƒìœ„ ë¬¸ì„œë¡œ ëŒì•„ê°€ê¸°](../README.md)
- [ì›Œí¬í”Œë¡œìš° ì‹¤í–‰ ê°€ì´ë“œ](../workflows/README.md)
- [ê°œë°œ ê°€ì´ë“œë¼ì¸](../guides/META-DRIVEN-DEVELOPMENT-GUIDELINES.md)

---

## ğŸ“– ì¶”ê°€ í•™ìŠµ ìë£Œ

### ë©”íƒ€ë°ì´í„° ê¸°ë°˜ ê°œë°œ ê´€ë ¨ ìë£Œ

- [Model-Driven Architecture (MDA)](https://www.omg.org/mda/)
- [Code Generation Patterns](https://martinfowler.com/bliki/CodeGeneration.html)
- [Schema-First Development](https://www.apollographql.com/docs/apollo-server/schema/schema/)

### PostgreSQL ë©”íƒ€ë°ì´í„°

- [PostgreSQL Information Schema](https://www.postgresql.org/docs/current/information-schema.html)
- [PostgreSQL System Catalogs](https://www.postgresql.org/docs/current/catalogs.html)

---

**ë¬¸ì„œ ìœ„ì¹˜**: `/var/services/homes/jungsam/dev/dockers/_templates/docker/docker-ubuntu/_docs/meta-data-driven/concepts/`

**ë²„ì „**: 1.0.0
