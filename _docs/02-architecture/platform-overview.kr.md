# í”Œë«í¼ ì•„í‚¤í…ì²˜ ê°œìš”

## ğŸ—ï¸ ì „ì²´ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ${PLATFORM_NAME} Platform                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  Project 1    â”‚  â”‚  Project 2    â”‚  â”‚  Project 3    â”‚      â”‚
â”‚  â”‚  (Ports:      â”‚  â”‚  (Ports:      â”‚  â”‚  (Ports:      â”‚      â”‚
â”‚  â”‚  21XXX-21XXX) â”‚  â”‚  21XXX-21XXX) â”‚  â”‚  21XXX-21XXX) â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚          â”‚                  â”‚                  â”‚                â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€        â”‚
â”‚          â”‚           Shared Infrastructure     â”‚                â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€        â”‚
â”‚          â”‚                                     â”‚                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  PostgreSQL   â”‚  â”‚     N8N      â”‚  â”‚     MySQL     â”‚       â”‚
â”‚  â”‚  (${PLATFORM_POSTGRES_PORT})  â”‚  â”‚  (${PLATFORM_N8N_PORT}) â”‚  â”‚  (${PLATFORM_MYSQL_PORT})  â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ í•µì‹¬ ê°œë…

### 1. ë„ë©”ì¸ ê¸°ë°˜ ê²©ë¦¬
- ê° ë„ë©”ì¸(ì˜ì—­)ì€ ë…ë¦½ì ì¸ í”Œë«í¼ìœ¼ë¡œ êµ¬ì„±
- í”Œë«í¼ë³„ë¡œ ì „ìš© ë°ì´í„°ë² ì´ìŠ¤ ì„œë²„ì™€ N8N ì¸ìŠ¤í„´ìŠ¤ ë³´ìœ 
- ì˜ˆ: `ubuntu-ilmac`, `ubuntu-jnj`, `ubuntu-kmc`

### 2. í”„ë¡œì íŠ¸ ê²©ë¦¬
- ê° í”„ë¡œì íŠ¸ëŠ” ë…ë¦½ì ì¸ í¬íŠ¸ ë²”ìœ„ í• ë‹¹ (10ê°œ)
- í”„ë¡œì íŠ¸ë³„ ì „ìš© ë°ì´í„°ë² ì´ìŠ¤ (ê³µìœ  DB ì„œë²„ ë‚´)
- ë…ë¦½ì ì¸ Git ì €ì¥ì†Œ

### 3. ìë™í™”ëœ í¬íŠ¸ ê´€ë¦¬
- í”Œë«í¼: 200ê°œ í¬íŠ¸ ë²”ìœ„
- í”„ë¡œì íŠ¸: 20ê°œ í¬íŠ¸ (Production 10 + Development 10)
- ì¶©ëŒ ë°©ì§€ë¥¼ ìœ„í•œ ìë™ í• ë‹¹ ì‹œìŠ¤í…œ

## ğŸ“Š í¬íŠ¸ í• ë‹¹ ì²´ê³„

### í”Œë«í¼ ë ˆë²¨
```
Platform SN = 0, 1, 2, ...
Base Port = 21000 + (SN Ã— 200)

ì˜ˆì‹œ:
- Platform 0: 21000-21199
- Platform 1: 21200-21399
- Platform 2: 21400-21599
```

### í”„ë¡œì íŠ¸ ë ˆë²¨
```
Project SN = 0, 1, 2, ... (í”Œë«í¼ ë‚´)
Project Base Port = Platform Base Port + (Project SN Ã— 20)

ì˜ˆì‹œ (Platform 1, Project 0):
- Base: 21200 + (0 Ã— 20) = 21200
- Ports: 21200-21219
  - Production: 21200-21209
  - Development: 21210-21219
```

### ì„œë¹„ìŠ¤ë³„ í¬íŠ¸ ì˜¤í”„ì…‹

**Production (0-9)**:
- 0: SSH
- 1: Backend Node.js
- 2: Backend Python
- 3: API GraphQL
- 4: API REST
- 5: API Reserved
- 6: Frontend Next.js
- 7: Frontend SvelteKit
- 8: Frontend Reserved
- 9: System Reserved

**Development (10-19)**: Production + 10

## ğŸ—ƒï¸ ë°ì´í„°ë² ì´ìŠ¤ ì•„í‚¤í…ì²˜

### ê³µìœ  ì¸ìŠ¤í„´ìŠ¤ ì „ëµ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   PostgreSQL Instance               â”‚
â”‚   (Port: ${PLATFORM_POSTGRES_PORT}) â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ platform_metadata            â”‚  â”‚  â† í”Œë«í¼ ë©”íƒ€ë°ì´í„°
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ project_user_management      â”‚  â”‚  â† í”„ë¡œì íŠ¸ 1 DB
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ project_blog                 â”‚  â”‚  â† í”„ë¡œì íŠ¸ 2 DB
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ project_ecommerce            â”‚  â”‚  â† í”„ë¡œì íŠ¸ 3 DB
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ë°ì´í„°ë² ì´ìŠ¤ ë„¤ì´ë° ê·œì¹™
- í”Œë«í¼ ë©”íƒ€ë°ì´í„°: `platform_metadata`
- í”„ë¡œì íŠ¸ DB: `project_${PROJECT_NAME}`
- ì˜ˆ: `project_user_management`, `project_blog`

## ğŸ”„ ë©”íƒ€ë°ì´í„° ê¸°ë°˜ ê°œë°œ íë¦„

```mermaid
graph LR
    A[ë©”íƒ€ë°ì´í„° ì •ì˜] --> B[ì½”ë“œ ìë™ ìƒì„±]
    B --> C[TypeORM Entities]
    B --> D[GraphQL Schema]
    B --> E[Resolvers]
    B --> F[Services]
    B --> G[Migrations]
    C --> H[ì»¤ìŠ¤í…€ ë¡œì§ ì¶”ê°€]
    D --> H
    E --> H
    F --> H
    H --> I[í…ŒìŠ¤íŠ¸]
    I --> J[ë°°í¬]
```

### ë©”íƒ€ë°ì´í„° êµ¬ì¡°
```json
{
  "tableName": "users",
  "columns": [
    { "name": "id", "type": "uuid", "primaryKey": true },
    { "name": "email", "type": "varchar", "unique": true },
    { "name": "role", "type": "enum", "enum": ["USER", "ADMIN"] }
  ],
  "relationships": [
    { "type": "one-to-many", "target": "posts", "foreignKey": "user_id" }
  ]
}
```

### ìë™ ìƒì„±ë˜ëŠ” ì½”ë“œ
1. **TypeORM Entities**: ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸
2. **GraphQL Schema**: API ìŠ¤í‚¤ë§ˆ ì •ì˜
3. **Resolvers**: GraphQL ì¿¼ë¦¬/ë®¤í…Œì´ì…˜ í•¸ë“¤ëŸ¬
4. **Services**: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ (CRUD)
5. **Migrations**: DB ìŠ¤í‚¤ë§ˆ ë§ˆì´ê·¸ë ˆì´ì…˜

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

### Backend
- **Runtime**: Node.js (TypeScript)
- **API**: GraphQL (Apollo Server)
- **ORM**: TypeORM
- **Database**: PostgreSQL (primary), MySQL (optional)

### Frontend
- **Framework**: Next.js (App Router)
- **UI**: React 19
- **Styling**: Tailwind CSS 4

### Infrastructure
- **Containerization**: Docker
- **Automation**: N8N
- **Reverse Proxy**: Nginx (í”Œë«í¼ ë ˆë²¨)
- **SSL**: Certbot (í”Œë«í¼ ë ˆë²¨)

### Development Tools
- **AI Assistants**: Claude Code, Codex CLI, Gemini CLI
- **IDE**: VS Code / Cursor (ì„œë²„ ì„¤ì • ì˜êµ¬ ì €ì¥)
- **Version Control**: Git + GitHub

## ğŸ“ ë””ë ‰í† ë¦¬ êµ¬ì¡°

### í”Œë«í¼ ë ˆë²¨
```
platforms/${PLATFORM_NAME}/
â”œâ”€â”€ docker-compose.yml        # ì¸í”„ë¼ ì„œë¹„ìŠ¤ ì •ì˜
â”œâ”€â”€ .env                      # í”Œë«í¼ í™˜ê²½ë³€ìˆ˜
â”œâ”€â”€ configs/                  # ì„¤ì • íŒŒì¼ë“¤
â”‚   â”œâ”€â”€ .bashrc
â”‚   â”œâ”€â”€ ide/                 # VS Code/Cursor ì„œë²„ ì„¤ì •
â”‚   â”œâ”€â”€ n8n_data/            # N8N ì›Œí¬í”Œë¡œìš° ë°ì´í„°
â”‚   â””â”€â”€ google-chrome/       # Chrome ì‚¬ìš©ì ë°ì´í„°
â”œâ”€â”€ projects/                 # í”„ë¡œì íŠ¸ë“¤
â”‚   â”œâ”€â”€ cp.sh                # í”„ë¡œì íŠ¸ ìƒì„± ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ project-1/
â”‚   â”œâ”€â”€ project-2/
â”‚   â””â”€â”€ project-3/
â”œâ”€â”€ scripts/                  # ìë™í™” ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ dev-start.sh
â”‚   â”œâ”€â”€ backup-db.sh
â”‚   â””â”€â”€ port-check.sh
â””â”€â”€ docs/                     # í”Œë«í¼ ë¬¸ì„œ
    â”œâ”€â”€ guidelines/
    â”œâ”€â”€ architecture/
    â”œâ”€â”€ api/
    â””â”€â”€ troubleshooting/
```

### í”„ë¡œì íŠ¸ ë ˆë²¨
```
projects/project-name/
â”œâ”€â”€ src/                      # ì†ŒìŠ¤ ì½”ë“œ
â”‚   â”œâ”€â”€ entities/            # TypeORM ì—”í‹°í‹° (ìë™ ìƒì„±)
â”‚   â”œâ”€â”€ schema/              # GraphQL ìŠ¤í‚¤ë§ˆ (ìë™ ìƒì„±)
â”‚   â”œâ”€â”€ resolvers/           # GraphQL ë¦¬ì¡¸ë²„ (ìë™ ìƒì„±)
â”‚   â”œâ”€â”€ services/            # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ (ìë™ ìƒì„±)
â”‚   â”œâ”€â”€ custom/              # ì»¤ìŠ¤í…€ ì½”ë“œ (ìˆ˜ë™ ì‘ì„±)
â”‚   â”œâ”€â”€ utils/               # ìœ í‹¸ë¦¬í‹°
â”‚   â”œâ”€â”€ types/               # íƒ€ì… ì •ì˜
â”‚   â””â”€â”€ index.ts             # ì§„ì…ì 
â”œâ”€â”€ metadata/                 # ë©”íƒ€ë°ì´í„° ì •ì˜
â”‚   â”œâ”€â”€ tables/
â”‚   â”œâ”€â”€ relationships/
â”‚   â””â”€â”€ apis/
â”œâ”€â”€ migrations/               # DB ë§ˆì´ê·¸ë ˆì´ì…˜
â”œâ”€â”€ tests/                    # í…ŒìŠ¤íŠ¸ ì½”ë“œ
â”œâ”€â”€ .env                      # í”„ë¡œì íŠ¸ í™˜ê²½ë³€ìˆ˜
â”œâ”€â”€ docker-compose.yml        # Docker ì„¤ì •
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

## ğŸ” ë³´ì•ˆ ì•„í‚¤í…ì²˜

### ë„¤íŠ¸ì›Œí¬ ê²©ë¦¬
- ê° í”„ë¡œì íŠ¸ëŠ” ë…ë¦½ì ì¸ Docker ë„¤íŠ¸ì›Œí¬
- ì™¸ë¶€ ì ‘ê·¼ì€ ì—­ë°©í–¥ í”„ë¡ì‹œ(Nginx)ë¥¼ í†µí•´ì„œë§Œ ê°€ëŠ¥

### ì¸ì¦/ì¸ê°€
- JWT ê¸°ë°˜ ì¸ì¦
- GraphQL Contextë¥¼ í†µí•œ ì‚¬ìš©ì ì •ë³´ ì „íŒŒ
- Role-based Access Control (RBAC)

### í™˜ê²½ë³€ìˆ˜ ê´€ë¦¬
- `.env` íŒŒì¼ë¡œ ê´€ë¦¬ (git ignore)
- ë¯¼ê° ì •ë³´ëŠ” í™˜ê²½ë³€ìˆ˜ë¡œë§Œ ì ‘ê·¼
- ìë™ ìƒì„±ëœ ì‹œí¬ë¦¿ (ë¹„ë°€ë²ˆí˜¸, JWT secret ë“±)

## ğŸ“ˆ í™•ì¥ì„±

### ìˆ˜í‰ í™•ì¥
- í”„ë¡œì íŠ¸ë³„ ë…ë¦½ ë°°í¬
- í”„ë¡œì íŠ¸ ì¶”ê°€ ì‹œ ìë™ í¬íŠ¸ í• ë‹¹
- ìµœëŒ€ 10ê°œ í”„ë¡œì íŠ¸/í”Œë«í¼, 45ê°œ í”Œë«í¼ ì§€ì›

### ìˆ˜ì§ í™•ì¥
- ë°ì´í„°ë² ì´ìŠ¤ ì»¤ë„¥ì…˜ í’€ë§
- Redis ìºì‹± (ì„ íƒì )
- N8N ì›Œí¬í”Œë¡œìš°ë¥¼ í†µí•œ ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…

## ğŸ”„ ê°œë°œ ë° ë°°í¬ íë¦„

### ê°œë°œ í™˜ê²½
```bash
# í”Œë«í¼ ìƒì„±
./cu.sh -n ubuntu-myplatform -u myuser -d "My Platform"

# í”„ë¡œì íŠ¸ ìƒì„±
cd platforms/ubuntu-myplatform/projects
./create-project.sh -p ubuntu-myplatform -n my-project -u myuser -d "My Project"

# ê°œë°œ ì‹œì‘
cd my-project
npm install
npm run dev
```

### ì½”ë“œ ìƒì„± ì›Œí¬í”Œë¡œìš°
```bash
# ë©”íƒ€ë°ì´í„° ì •ì˜
vim metadata/tables/users.json

# ì½”ë“œ ìë™ ìƒì„±
npm run generate:all

# ì»¤ìŠ¤í…€ ë¡œì§ ì¶”ê°€
vim src/custom/services/user.service.custom.ts

# í…ŒìŠ¤íŠ¸
npm test

# ë§ˆì´ê·¸ë ˆì´ì…˜
npm run migration:run
```

### ë°°í¬
```bash
# ë¹Œë“œ
npm run build

# í”„ë¡œë•ì…˜ ì‹œì‘
docker-compose up -d
```

## ğŸ“ í•™ìŠµ ê²½ë¡œ

1. **í”Œë«í¼ ì´í•´** (ì´ ë¬¸ì„œ)
2. **ê°œë°œ ì›Œí¬í”Œë¡œìš°** (`/docs/guidelines/02-development-workflow.md`)
3. **ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬** (`/docs/guidelines/03-database-management.md`)
4. **ì½”ë”© ì»¨ë²¤ì…˜** (`/docs/guidelines/04-coding-conventions.md`)
5. **AI í˜‘ì—…** (`/docs/guidelines/01-ai-collaboration.md`)
6. **ì˜ˆì œ í”„ë¡œì íŠ¸** (`/docs/examples/`)

## ğŸ”— ê´€ë ¨ ë¬¸ì„œ

- [ë©”íƒ€ë°ì´í„° ìŠ¤í‚¤ë§ˆ ì •ì˜](./02-metadata-schema.md)
- [GraphQL API ì„¤ê³„](../api/01-graphql-design.md)
- [í¬íŠ¸ í• ë‹¹ ì‹œìŠ¤í…œ](./03-port-allocation.md)
- [ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ ì›ì¹™](../guidelines/03-database-management.md)
